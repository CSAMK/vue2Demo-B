{"version":3,"sources":["webpack:///./src/api/products.js","webpack:///./src/components/Page.vue?83f9","webpack:///./src/views/commodity/List.vue","webpack:///./src/components/commodity/Search.vue","webpack:///src/components/commodity/Search.vue","webpack:///./src/components/commodity/Search.vue?c7d6","webpack:///./src/components/commodity/Search.vue?f8e2","webpack:///./src/components/commodity/Table.vue","webpack:///src/components/commodity/Table.vue","webpack:///./src/components/commodity/Table.vue?d187","webpack:///./src/components/commodity/Table.vue?2dc6","webpack:///./src/components/Page.vue","webpack:///src/components/Page.vue","webpack:///./src/components/Page.vue?35ba","webpack:///./src/components/Page.vue?b759","webpack:///src/views/commodity/List.vue","webpack:///./src/views/commodity/List.vue?fe46","webpack:///./src/views/commodity/List.vue?cef0","webpack:///./src/views/commodity/List.vue?f08e","webpack:///./src/api/category.js","webpack:///./src/components/commodity/Table.vue?a45f"],"names":["async","getProductsList","params","res","includes","get","addProduct","post","editProduct","put","productDetails","id","render","_vm","this","_c","_self","attrs","staticClass","categoryList","on","handleSearch","goCommodityAdd","_v","tableData","tags","handleEdit","total","handleCurrentChange","handleSizeChange","staticRenderFns","formInline","model","value","searchWord","callback","$$v","$set","expression","category","_l","item","key","_id","name","onSubmit","data","user","region","props","type","default","methods","component","staticStyle","background","color","tableTitles","index","label","scopedSlots","_u","fn","scope","_s","row","filterTag","$event","$index","handleDelete","currentPage1","sizeChange","currentChange","currentPage2","currentPage3","currentPage4","pageData","page","size","components","Search","Table","Page","console","categoryName","statusName","tagsArr","text","getCategory"],"mappings":"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","file":"js/chunk-7fe45ecb.958cab0a.js","sourcesContent":["// // 关于产品的接口\nimport includes from './index';\n\n// 查询产品列表\nasync function getProductsList(params) {\n  const res = await includes.get('/products/all', {\n    params,\n  });\n  return res;\n}\n\n// 添加商品\nasync function addProduct(params) {\n  const res = await includes.post('/products/add', params);\n  return res;\n}\n\n// 编辑商品\nasync function editProduct(params) {\n  const res = await includes.put('/products/edit', params);\n  return res;\n}\n\n// 查询商品详情\nasync function productDetails(id) {\n  const res = await includes.get(`/products/${id}`);\n  return res;\n}\n\nexport {\n  getProductsList,\n  addProduct,\n  editProduct,\n  productDetails,\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=style&index=0&id=7c611264&prod&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"comm-list\"}},[_c('div',{staticClass:\"search-container\"},[_c('div',{staticClass:\"search\"},[_c('Search',{attrs:{\"categoryList\":_vm.categoryList},on:{\"handleSubmit\":_vm.handleSearch}})],1),_c('div',{staticClass:\"add\",on:{\"click\":_vm.goCommodityAdd}},[_c('el-button',{attrs:{\"plain\":\"\"}},[_vm._v(\"添加商品\")])],1)]),_c('div',{staticClass:\"table-container\"},[_c('Table',{attrs:{\"tableData\":_vm.tableData,\"tags\":_vm.tags},on:{\"handleEdit\":_vm.handleEdit}}),_c('div',{staticClass:\"page\"},[_c('Page',{attrs:{\"total\":_vm.total},on:{\"handleCurrentChange\":_vm.handleCurrentChange,\"handleSizeChange\":_vm.handleSizeChange}})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"search\"}},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"检索关键字：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入关键字\"},model:{value:(_vm.formInline.searchWord),callback:function ($$v) {_vm.$set(_vm.formInline, \"searchWord\", $$v)},expression:\"formInline.searchWord\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品类目：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择商品类目\",\"clearable\":\"\"},model:{value:(_vm.formInline.category),callback:function ($$v) {_vm.$set(_vm.formInline, \"category\", $$v)},expression:\"formInline.category\"}},_vm._l((_vm.categoryList),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"搜索\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 搜索组件\n<template>\n  <div id=\"search\">\n    <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\n      <el-form-item label=\"检索关键字：\">\n        <el-input\n          v-model=\"formInline.searchWord\"\n          placeholder=\"请输入关键字\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item label=\"商品类目：\">\n        <el-select\n          v-model=\"formInline.category\"\n          placeholder=\"请选择商品类目\"\n          clearable\n        >\n          <el-option\n            v-for=\"item in categoryList\"\n            :label=\"item.name\"\n            :key=\"item._id\"\n            :value=\"item.id\"\n          ></el-option>\n          <!-- <el-option label=\"区域一\" value=\"shanghai\"></el-option>\n          <el-option label=\"区域二\" value=\"beijing\"></el-option> -->\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit\">搜索</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      formInline: {\n        user: '',\n        region: '',\n      },\n    };\n  },\n  props: {\n    categoryList: {\n      // 商品类目列表\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n  },\n\n  methods: {\n    onSubmit() {\n      // console.log('submit!');\n      this.$emit('handleSubmit', this.formInline);\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=92efa158&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"header-cell-style\":{ background: '#eef1f6', color: '#606266' }}},[_vm._l((_vm.tableTitles),function(item,index){return _c('el-table-column',{key:index,attrs:{\"label\":item.label},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row[item.props]))])]}}],null,true)})}),_c('el-table-column',{attrs:{\"label\":\"标签\",\"prop\":\"tag\",\"filters\":_vm.tags,\"filter-method\":_vm.filterTag,\"filter-placement\":\"bottom-end\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.tags),function(item,index){return _c('el-tag',{key:index,attrs:{\"type\":\" success\",\"disable-transitions\":\"\"}},[_vm._v(_vm._s(item))])})}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"edit-btn\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 表格组件\n<template>\n  <el-table\n    :data=\"tableData\"\n    style=\"width: 100%\"\n    :header-cell-style=\"{ background: '#eef1f6', color: '#606266' }\"\n  >\n    <el-table-column\n      v-for=\"(item, index) in tableTitles\"\n      :label=\"item.label\"\n      :key=\"index\"\n    >\n      <template slot-scope=\"scope\">\n        <span style=\"margin-left: 10px\">{{ scope.row[item.props] }}</span>\n      </template>\n    </el-table-column>\n    <el-table-column\n      label=\"标签\"\n      prop=\"tag\"\n      :filters=\"tags\"\n      :filter-method=\"filterTag\"\n      filter-placement=\"bottom-end\"\n    >\n      <template slot-scope=\"scope\">\n        <el-tag\n          type=\" success\"\n          disable-transitions\n          v-for=\"(item, index) in scope.row.tags\"\n          :key=\"index\"\n          >{{ item }}</el-tag\n        >\n      </template>\n    </el-table-column>\n    <el-table-column label=\"操作\">\n      <template slot-scope=\"scope\">\n        <el-button\n          size=\"mini\"\n          @click=\"handleEdit(scope.$index, scope.row)\"\n          class=\"edit-btn\"\n          >编辑</el-button\n        >\n        <el-button\n          size=\"mini\"\n          type=\"danger\"\n          @click=\"handleDelete(scope.$index, scope.row)\"\n          >删除</el-button\n        >\n      </template>\n    </el-table-column>\n  </el-table>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      tableTitles: [\n        {\n          props: 'id',\n          label: 'ID',\n        },\n        {\n          props: 'title',\n          label: '标题',\n        },\n        {\n          props: 'desc',\n          label: '描述',\n        },\n        {\n          props: 'categoryName',\n          label: '类目',\n        },\n        {\n          props: 'price',\n          label: '预售价格',\n        },\n        {\n          props: 'price_off',\n          label: '折扣价格',\n        },\n        {\n          props: 'inventory',\n          label: '限制购买数量',\n        },\n        {\n          props: 'statusName',\n          label: '上架状态',\n        },\n      ],\n    };\n  },\n  props: ['tableData', 'tags'],\n  methods: {\n    handleEdit(index, row) {\n      // console.log(index, row);\n      this.$emit('handleEdit', index, row);\n    },\n    handleDelete(index, row) {\n      // console.log(index, row);\n      this.$emit('handleDelete', index, row);\n    },\n    filterTag(value, row) {\n      return row.tag === value;\n    },\n  },\n};\n</script>\n<style scoped lang=\"less\">\n.edit-btn {\n  margin-right: 10px;\n}\n.el-button + .el-button {\n  margin-left: 0;\n}\n.el-tag {\n  margin-right: 10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Table.vue?vue&type=template&id=796d973c&scoped=true&\"\nimport script from \"./Table.vue?vue&type=script&lang=js&\"\nexport * from \"./Table.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Table.vue?vue&type=style&index=0&id=796d973c&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"796d973c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"page\"}},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage1,\"page-sizes\":[10, 20, 30, 40],\"page-size\":10,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.total,\"background\":true},on:{\"size-change\":_vm.sizeChange,\"current-change\":_vm.currentChange,\"update:currentPage\":function($event){_vm.currentPage1=$event},\"update:current-page\":function($event){_vm.currentPage1=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 分页组件\n<template>\n  <div id=\"page\">\n    <el-pagination\n      @size-change=\"sizeChange\"\n      @current-change=\"currentChange\"\n      :current-page.sync=\"currentPage1\"\n      :page-sizes=\"[10, 20, 30, 40]\"\n      :page-size=\"10\"\n      layout=\"sizes, prev, pager, next\"\n      :total=\"total\"\n      :background=\"true\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      currentPage1: 1,\n      currentPage2: 5,\n      currentPage3: 5,\n      currentPage4: 4,\n    };\n  },\n  props: ['total'],\n  methods: {\n    sizeChange(val) {\n      // console.log(`每页 ${val} 条`);\n      this.$emit('handleSizeChange', val);\n    },\n    currentChange(val) {\n      // console.log(`当前页: ${val}`);\n      this.$emit('handleCurrentChange', val);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n#page {\n  padding: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=7c611264&\"\nimport script from \"./Page.vue?vue&type=script&lang=js&\"\nexport * from \"./Page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Page.vue?vue&type=style&index=0&id=7c611264&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// 商品列表界面\n<template>\n  <div id=\"comm-list\">\n    <div class=\"search-container\">\n      <div class=\"search\">\n        <Search :categoryList=\"categoryList\" @handleSubmit=\"handleSearch\" />\n      </div>\n      <div class=\"add\" @click=\"goCommodityAdd\">\n        <el-button plain>添加商品</el-button>\n      </div>\n    </div>\n    <div class=\"table-container\">\n      <Table :tableData=\"tableData\" :tags=\"tags\" @handleEdit=\"handleEdit\" />\n      <div class=\"page\">\n        <Page\n          :total=\"total\"\n          @handleCurrentChange=\"handleCurrentChange\"\n          @handleSizeChange=\"handleSizeChange\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Search from '@/components/commodity/Search.vue';\nimport Table from '@/components/commodity/Table.vue';\n// 获取商品类目列表的请求方法\nimport { getCategory } from '@/api/category';\nimport { getProductsList } from '@/api/products';\nimport Page from '@/components/Page.vue';\n\nexport default {\n  data() {\n    return {\n      categoryList: [], // 商品类目列表\n      tableData: [], // 表格数据\n      pageData: {\n        // 页数数据\n        page: 1,\n        size: 10,\n      },\n      total: 0, // 总数量\n      tags: [], // 总标签\n    };\n  },\n  components: {\n    Search,\n    Table,\n    Page,\n  },\n  async created() {\n    const categoryList = await getCategory();\n    this.categoryList = categoryList.data.data;\n    this.getTableData();\n    // console.log(categoryList);\n  },\n  methods: {\n    handleSearch(option) {\n      // 响应搜索框点击事件\n      console.log(option);\n    },\n    async getTableData() {\n      const { categoryList } = this;\n      const tags = new Set(); // 用来过滤重复标签\n      const tagsArr = []; // 用来储存标签\n      let tableData = await getProductsList(this.pageData);\n      this.total = tableData.data.total;\n\n      tableData = tableData.data.data.map((item) => {\n        const category = categoryList.filter((i) => i.id === item.category);\n\n        item.tags.forEach((val) => tags.add(val));\n\n        return {\n          ...item,\n          categoryName: category[0].name,\n          statusName: item.status === 1 ? '上架' : '下架',\n        };\n      });\n\n      this.tableData = tableData;\n\n      tags.forEach((item) => {\n        tagsArr.push({\n          text: item,\n          value: item,\n        });\n      });\n      this.tags = tagsArr;\n    },\n    handleCurrentChange(val) {\n      this.pageData.page = val;\n      this.getTableData();\n    },\n    handleSizeChange(val) {\n      this.pageData.size = val;\n      this.getTableData();\n    },\n    goCommodityAdd() {\n      // 跳转到商品添加页面\n      this.$router.push('/commodity/add');\n    },\n    handleEdit(index, row) {\n      // 点击商品编辑按钮\n      /* eslint no-underscore-dangle: 0 */\n      this.$router.push({\n        name: 'Edit',\n        params: { id: row.id },\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.search-container {\n  display: flex;\n  box-sizing: border-box;\n  padding: 10px 20px;\n  align-items: center;\n  justify-content: space-between;\n\n  .add {\n    margin-bottom: 22px;\n  }\n}\n.table-container {\n  .page {\n    display: flex;\n    justify-content: flex-end;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=5d9f425c&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=5d9f425c&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d9f425c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=5d9f425c&prod&lang=less&scoped=true&\"","// 关于商品类目的接口\nimport includes from './index';\n\nasync function getCategory() {\n  const res = await includes.get('/category/all');\n  return res;\n}\n\nasync function getCategory2() {\n  const res = await includes.get('/category/all');\n  return res;\n}\n\nexport {\n  getCategory,\n  getCategory2,\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=style&index=0&id=796d973c&prod&scoped=true&lang=less&\""],"sourceRoot":""}