(function(e){function t(t){for(var o,n,u=t[0],i=t[1],l=t[2],c=0,m=[];c<u.length;c++)n=u[c],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&m.push(a[n][0]),a[n]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],o=!0,n=1;n<r.length;n++){var u=r[n];0!==a[u]&&(o=!1)}o&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var o={},n={app:0},a={app:0},s=[];function u(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"6954ab9e","chunk-4f969826":"e4d3e040","chunk-7fe45ecb":"958cab0a","chunk-aba6595c":"f3fa3c35"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r={"chunk-4f969826":1,"chunk-7fe45ecb":1,"chunk-aba6595c":1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise((function(t,r){for(var o="css/"+({about:"about"}[e]||e)+"."+{about:"31d6cfe0","chunk-4f969826":"db1c2268","chunk-7fe45ecb":"6b849ead","chunk-aba6595c":"633a7b4a"}[e]+".css",a=i.p+o,s=document.getElementsByTagName("link"),u=0;u<s.length;u++){var l=s[u],c=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(c===o||c===a))return t()}var m=document.getElementsByTagName("style");for(u=0;u<m.length;u++){l=m[u],c=l.getAttribute("data-href");if(c===o||c===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=o,delete n[e],d.parentNode.removeChild(d),r(s)},d.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){n[e]=0})));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var s=new Promise((function(t,r){o=a[e]=[t,r]}));t.push(o[2]=s);var l,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=u(e);var m=new Error;l=function(t){c.onerror=c.onload=null,clearTimeout(d);var r=a[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",m.name="ChunkLoadError",m.type=o,m.request=n,r[1](m)}a[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:c})}),12e4);c.onerror=c.onload=l,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var m=0;m<l.length;m++)t(l[m]);var d=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"1fce":function(e,t,r){"use strict";r("866c")},"365c":function(e,t,r){"use strict";var o=r("a78e"),n=r.n(o);const a=r("bc3a"),s=a.create({baseURL:"https://mallapi.duyiedu.com"});s.interceptors.request.use(e=>{const t=n.a.get("appkey");return t?{...e,params:{...e.params,appkey:t}}:e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e.data,e=>Promise.reject(e)),t["a"]=s},"451b":function(e,t,r){},"47d5":function(e,t,r){"use strict";r("451b")},5255:function(e,t,r){"use strict";r("d313")},"56d7":function(e,t,r){"use strict";r.r(t);var o=r("2b0e"),n=r("5c96"),a=r.n(n),s=r("2819"),u=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},i=[],l={name:"app",components:{}},c=l,m=(r("5255"),r("2877")),d=Object(m["a"])(c,u,i,!1,null,null,null),p=d.exports,f=r("8c4f"),h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("LeftMenu"),t("div",{staticClass:"right-container"},[t("CondoleTop"),t("div",{staticClass:"router-view"},[t("router-view")],1)],1)],1)},v=[],b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"left-menu"},[t("div",{staticClass:"left-menu-radio",class:{isShow:!e.isCollapse}},[t("el-radio-group",{staticStyle:{"margin-bottom":"20px"},model:{value:e.isCollapse,callback:function(t){e.isCollapse=t},expression:"isCollapse"}},[t("el-button",{staticClass:"collapseBtn",attrs:{size:"medium"},on:{click:e.changeCollapse}},[t("i",{class:e.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"})])],1)],1),t("el-menu",{staticClass:"el-menu-vertical-demo left-menu-container",attrs:{"default-active":e.activeMenu,collapse:e.isCollapse,"background-color":"rgb(84, 92, 100)","text-color":"#fff","active-text-color":"rgb(255, 208, 75)",router:""}},[t("el-submenu",{attrs:{index:"1"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-home"}),t("span",[e._v("首页")])]),t("el-menu-item-group",[t("el-menu-item",{attrs:{index:"/calculate"}},[t("i",{staticClass:"el-icon-s-order"}),t("span",[e._v("统计")])])],1)],2),t("el-submenu",{attrs:{index:"2"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-shop"}),t("span",[e._v("商品")])]),t("el-menu-item-group",[t("el-menu-item",{attrs:{index:"/commodity/list"}},[t("i",{staticClass:"el-icon-s-order"}),t("span",[e._v("商品列表")])]),t("el-menu-item",{attrs:{index:"/commodity/add"}},[t("i",{staticClass:"el-icon-document-add"}),t("span",[e._v("添加商品")])])],1)],2)],1)],1)},g=[],y={data(){return{isCollapse:!0,activeMenu:this.$router.currentRoute.path,editMenu:""}},watch:{$route(){const{path:e}=this.$router.currentRoute;this.activeMenu=e}},methods:{changeCollapse(){this.isCollapse=!this.isCollapse}}},w=y,C=(r("915f"),Object(m["a"])(w,b,g,!1,null,"73726cb6",null)),k=C.exports,_=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"condoleTop"}},[t("div",{staticClass:"left"},[e.currentRoutes.length>1?t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[t("router-link",{attrs:{to:e.currentRoutes[0].path}},[e._v(e._s(e.currentRoutes[0].meta.title))])],1),t("el-breadcrumb-item",[t("router-link",{attrs:{to:e.currentRoutes[1].path}},[e._v(e._s(e.currentRoutes[1].meta.title))])],1)],1):e._e()],1),t("div",{staticClass:"right"},[t("el-dropdown",[t("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.$store.state.userInfo.username)),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{staticClass:"dropdown-item",nativeOn:{click:function(t){return e.logout.apply(null,arguments)}}},[e._v("退出")])],1)],1)],1)])},x=[],F=(r("14d9"),{data(){return{currentRoutes:this.$router.currentRoute.matched}},watch:{$route(){this.currentRoutes=this.$router.currentRoute.matched}},methods:{logout(){this.$store.dispatch("asyncLogout"),this.$router.push({name:"Login"})}},created(){},mounted(){}}),O=F,j=(r("ce02"),r("47d5"),Object(m["a"])(O,_,x,!1,null,"62a3896e",null)),$=j.exports,E={name:"Home",components:{LeftMenu:k,CondoleTop:$}},L=E,S=(r("1fce"),Object(m["a"])(L,h,v,!1,null,"6f2c21ff",null)),P=S.exports,I=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"login"}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm login-form",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"邮箱",prop:"email",required:!0}},[t("el-autocomplete",{staticClass:"form-email",attrs:{placeholder:"Email","fetch-suggestions":e.querySearchEmail,"trigger-on-focus":!1},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password",required:!0}},[t("el-input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),t("el-form-item",{staticClass:"form-btn"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},R=[],T=(r("d9e2"),r("365c"));async function q(e){const t=await T["a"].post("/passport/login",e);return t}var M=q,A={data(){const e=(e,t,r)=>{const o=/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/;return t?o.test(t)?r():r(new Error("邮箱格式不正确")):r(new Error("邮箱不能为空"))},t=(e,t,r)=>""===t?r(new Error("请输入密码")):r();return{ruleForm:{email:"",password:""},rules:{email:[{validator:e,trigger:"blur",required:!0}],password:[{validator:t,trigger:"blur",required:!0}]},submitKey:!0}},methods:{submitForm(e){this.$refs[e].validate(async e=>{if(e&&this.submitKey){this.submitKey=!1,setTimeout(()=>{this.submitKey=!0},2e3);const e=await M(this.ruleForm);return"success"!==e.status?this.$message.error(e.msg):(this.$store.dispatch("asyncSetUserInfo",e.data),this.$router.push({name:"Home"}))}return this.$message.warning("您点击过于频繁，请稍后再试")})},resetForm(e){this.$refs[e].resetFields()},querySearchEmail(e,t){const r=[{value:"@qq.com"},{value:"@126.com"},{value:"@163.com"},{value:"@sina.com"},{value:"@21cn.com"},{value:"@sohu.com"},{value:"@yahoo.com.cn"},{value:"@tom.com"},{value:"@etang.com"},{value:"@eyou.com"},{value:"@56.com"},{value:"@x.cn"},{value:"@chinaren.comsogou.com"},{value:"@citiz.com"}];let o=[];const n=[];r.map(t=>(n.push({value:e.split("@")[0]+t.value}),!0)),o=e?n.filter(this.createFilter(e)):n,t(o)},createFilter(e){return t=>0===t.value.toLowerCase().indexOf(e.toLowerCase())}}},U=A,K=(r("ef5e"),Object(m["a"])(U,I,R,!1,null,"ba91bad4",null)),N=K.exports,B=r("2f62"),H=r("a78e"),z=r.n(H);function D(e){const t=Object.entries(e);for(let r=0;r<t.length;r+=1)z.a.set(t[r][0],t[r][1]);return!0}function J(){return{username:z.a.get("username"),appkey:z.a.get("appkey"),role:z.a.get("role"),email:z.a.get("email")}}function G(){z.a.remove("username"),z.a.remove("appkey"),z.a.remove("role"),z.a.remove("email")}o["default"].use(B["a"]);var Q=new B["a"].Store({state:{userInfo:J()},mutations:{setUserInfo(e,t){e.userInfo=t},logout(e){e.userInfo={username:"",appkey:"",role:"",email:""}}},actions:{asyncSetUserInfo(e,t){e.commit("setUserInfo",t),D(t)},asyncLogout(e){e.commit("logout"),G()}},modules:{}});o["default"].use(f["a"]);const V=[{path:"/",name:"Home",redirect:"/calculate",component:P,meta:{title:"首页"},children:[{path:"calculate",name:"Calculate",meta:{title:"统计"},component:()=>r.e("chunk-4f969826").then(r.bind(null,"2639"))}]},{path:"/login",name:"Login",component:N},{path:"/commodity",name:"Commodity",redirect:"/commodity/list",meta:{title:"商品"},component:P,children:[{path:"list",name:"List",meta:{title:"商品列表"},component:()=>r.e("chunk-7fe45ecb").then(r.bind(null,"94ee"))},{path:"add",name:"Add",meta:{title:"添加商品"},component:()=>r.e("chunk-aba6595c").then(r.bind(null,"33f2"))},{path:"edit/:id",name:"Edit",meta:{title:"编辑商品"},component:()=>r.e("chunk-aba6595c").then(r.bind(null,"33f2"))}]},{path:"/about",name:"About",component:()=>r.e("about").then(r.bind(null,"f820"))}],W=new f["a"]({routes:V});W.beforeEach((e,t,r)=>"/login"!==e.path?Q.state.userInfo.username&&Q.state.userInfo.appkey&&Q.state.userInfo.role?r():r({name:"Login"}):r());var X=W;r("0fae");o["default"].use(s),o["default"].config.productionTip=!1,o["default"].use(a.a),new o["default"]({router:X,store:Q,render:e=>e(p)}).$mount("#app")},"866c":function(e,t,r){},"915f":function(e,t,r){"use strict";r("aba0")},aba0:function(e,t,r){},b070:function(e,t,r){},c551:function(e,t,r){},ce02:function(e,t,r){"use strict";r("c551")},d313:function(e,t,r){},ef5e:function(e,t,r){"use strict";r("b070")}});
//# sourceMappingURL=app.f3610a2c.js.map